<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Totally-Serious-Websiteâ„¢</title>
<style>
  :root{
    --bg:#0b0f1a;
    --accent:#ff0077;
    --muted:#99a;
  }
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:linear-gradient(135deg,var(--bg) 0%, #0f1630 100%);color:#fff}
  header{padding:28px;text-align:center}
  h1{font-size:2.4rem;letter-spacing:1px;margin:0}
  .container{max-width:1100px;margin:28px auto;padding:20px;background:rgba(255,255,255,0.02);border-radius:12px;box-shadow:0 6px 30px rgba(0,0,0,0.6)}
  .grid{display:grid;grid-template-columns:1fr 360px;gap:18px}
  .card{padding:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.015));border-radius:10px;border:1px solid rgba(255,255,255,0.04)}
  .btn{display:inline-block;padding:10px 14px;background:var(--accent);color:#fff;border-radius:8px;text-decoration:none;cursor:pointer;border:0;font-weight:600;box-shadow:0 6px 20px rgba(255,0,119,0.12)}
  .muted{color:var(--muted);font-size:0.9rem}
  .controls{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
  input[type="text"], textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:rgba(0,0,0,0.2);color:#fff}
  .meme-preview{height:200px;background:#111;border-radius:8px;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}
  .meme-preview img{max-width:100%;max-height:100%}
  .meme-text{position:absolute;left:50%;transform:translateX(-50%);font-weight:900;text-transform:uppercase;text-shadow:0 2px 6px rgba(0,0,0,0.7);padding:8px 10px}
  .top{top:8px;font-size:28px}
  .bottom{bottom:8px;font-size:28px}
  .dancing{font-size:28px;display:flex;gap:6px;align-items:center;flex-wrap:wrap}
  .dancing span{display:inline-block;padding:6px 10px;border-radius:8px;background:rgba(255,255,255,0.03);animation:boop 800ms infinite;transform-origin:center}
  .dancing span:nth-child(2){animation-delay:100ms}
  .dancing span:nth-child(3){animation-delay:200ms}
  @keyframes boop{0%{transform:translateY(0)}50%{transform:translateY(-12px) rotate(-6deg)}100%{transform:translateY(0)}}
  footer{padding:12px;text-align:center;color:var(--muted);font-size:0.9rem}
  /* small helpers */
  .row{display:flex;gap:8px;align-items:center}
  .danger{background:#ff3b3b}
  /* cursor prank class */
  .cursorsmall{cursor:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><text y="20" font-size="18">ðŸ’©</text></svg>') 8 8, auto;}
  /* flashy background */
  .flash{
    animation:flashBG 600ms infinite;
  }
  @keyframes flashBG{
    0%{box-shadow:0 0 0 0 rgba(255,0,119,0.08)}
    50%{box-shadow:0 0 80px 20px rgba(255,0,119,0.06)}
    100%{box-shadow:0 0 0 0 rgba(255,0,119,0.02)}
  }
  /* small modal */
  .modal-back{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;z-index:9999}
  .modal{background:#071027;padding:22px;border-radius:12px;max-width:520px;width:90%;border:1px solid rgba(255,255,255,0.06)}
  .close{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px;border-radius:8px;color:inherit;cursor:pointer}
  /* small responsive */
  @media (max-width:880px){.grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<header>
  <h1>Totally-Serious-Websiteâ„¢</h1>
  <div class="muted">A friendly place for practical jokes, memes, and mild chaos.</div>
</header>

<div class="container">
  <div class="grid">
    <div class="card">
      <h2>Welcome â€” main prank hub</h2>
      <p class="muted">Click the buttons below for a variety of harmless pranks. Customize text/images in the code.</p>

      <div style="margin-top:12px" class="controls">
        <button class="btn" id="surpriseBtn">SURPRISE (do not press)</button>
        <button class="btn" id="rickBtn">Play "Totally Sincere Song"</button>
        <button class="btn" id="cursorBtn">Toggle Poop Cursor</button>
        <button class="btn danger" id="fakeErrorBtn">Show "System Error"</button>
        <button class="btn" id="flashBtn">Flash Mode</button>
      </div>

      <hr style="margin:16px 0;border-color:rgba(255,255,255,0.03)">

      <h3>Meme Generator</h3>
      <div style="display:grid;grid-template-columns:1fr 220px;gap:12px;align-items:start">
        <div>
          <label class="muted">Top text</label>
          <input type="text" id="topText" placeholder="TOP TEXT" value="WHEN YOU PRESS THE BUTTON">
          <label class="muted" style="margin-top:8px;display:block">Bottom text</label>
          <input type="text" id="bottomText" placeholder="BOTTOM TEXT" value="AND IT ACTUALLY WORKS">
          <label class="muted" style="margin-top:8px;display:block">Image URL</label>
          <input type="text" id="imageUrl" placeholder="https://..." value="https://i.imgur.com/Zx0k3kT.jpg">
          <div style="margin-top:8px" class="controls">
            <button class="btn" id="renderMeme">Render</button>
            <button class="btn" id="downloadMeme">Download</button>
          </div>
        </div>

        <div>
          <div class="meme-preview card" id="memePreview">
            <img id="memeImg" src="https://i.imgur.com/Zx0k3kT.jpg" alt="meme">
            <div class="meme-text top" id="memeTop">WHEN YOU PRESS THE BUTTON</div>
            <div class="meme-text bottom" id="memeBottom">AND IT ACTUALLY WORKS</div>
          </div>
        </div>
      </div>

      <hr style="margin:16px 0;border-color:rgba(255,255,255,0.03)">

      <h3>Classic prank console</h3>
      <p class="muted">Try typing something in the console or press <kbd>F12</kbd> â€” there's a playful message waiting.</p>

    </div>

    <aside class="card">
      <h3>Side Pranks</h3>
      <div class="dancing" id="dancingText">
        <span>ðŸ’¥</span><span>ðŸŽ‰</span><span>ðŸ¤¡</span><span>ðŸ˜ˆ</span><span>ðŸ˜¹</span>
      </div>

      <hr style="margin:12px 0;border-color:rgba(255,255,255,0.03)">

      <div style="margin-top:8px">
        <strong>Quick toggles</strong>
        <div style="margin-top:8px" class="controls">
          <button class="btn" id="confettiBtn">Confetti</button>
          <button class="btn" id="shakeBtn">Shake Screen</button>
          <button class="btn" id="typeBtn">Typing Prank</button>
        </div>
      </div>

      <hr style="margin:12px 0;border-color:rgba(255,255,255,0.03)">

      <div>
        <strong>Share</strong>
        <p class="muted">Send the link to a friend (make sure they have a good sense of humor!).</p>
        <div class="row">
          <button class="btn" id="copyLink">Copy Link</button>
          <button class="btn" id="hintBtn">Reveal hint</button>
        </div>
      </div>
    </aside>
  </div>
</div>

<footer>
  Built for tame mischief. Code is fully editable â€” change images, text, or the "surprise" payload to your heart's content.
</footer>

<!-- modal template -->
<div id="modalRoot" style="display:none"></div>

<!-- confetti canvas -->
<canvas id="confettiCanvas" style="position:fixed;inset:0;pointer-events:none;z-index:9998"></canvas>

<script>
/* ---------- basic helpers ---------- */
const $ = id => document.getElementById(id);

/* Surprise button: gentle prank (plays short melody + confetti) */
$('surpriseBtn').addEventListener('click', ()=> {
  playBeepMelody();
  fireConfetti(120);
  showTinyModal("Surprise! ðŸŽ‰", "You have been lightly trolled. All is well.").then(()=>{/*noop*/});
});

/* Rickroll button - opens YouTube rickroll in new tab (you can change link if you like) */
$('rickBtn').addEventListener('click', ()=> {
  // open in new tab so it's reversible
  window.open('https://www.youtube.com/watch?v=dQw4w9WgXcQ','_blank');
});

/* Cursor toggle */
let cursorOn=false;
$('cursorBtn').addEventListener('click', ()=> {
  cursorOn = !cursorOn;
  document.body.classList.toggle('cursorsmall', cursorOn);
  $('cursorBtn').textContent = cursorOn ? 'Disable Poop Cursor' : 'Toggle Poop Cursor';
});

/* Fake system error modal */
$('fakeErrorBtn').addEventListener('click', ()=> {
  showModal('<strong>System Failure</strong>',
            `<p>Critical process <code>memes.exe</code> has stopped responding.<br>Attempting automatic recovery...</p>
             <p class="muted">No real damage done â€” it is a joke.</p>`,
            [{text:'Reboot (lol)', cls:'btn', cb:()=>{playErrorTone(); closeModal();}},
             {text:'Close', cls:'close', cb:()=> closeModal()}]);
});

/* Flash mode toggle */
let flash=false;
$('flashBtn').addEventListener('click', ()=> {
  flash = !flash;
  document.querySelectorAll('.card').forEach(el => el.classList.toggle('flash', flash));
  $('flashBtn').textContent = flash ? 'Flash Off' : 'Flash Mode';
});

/* meme render & download */
$('renderMeme').addEventListener('click', renderMeme);
$('downloadMeme').addEventListener('click', downloadMeme);

function renderMeme(){
  const top = $('topText').value;
  const bottom = $('bottomText').value;
  const url = $('imageUrl').value;
  const img = $('memeImg');
  img.src = url || img.src;
  $('memeTop').textContent = top.toUpperCase();
  $('memeBottom').textContent = bottom.toUpperCase();
}

function downloadMeme(){
  // render in canvas and download
  const canvas = document.createElement('canvas');
  const img = $('memeImg');
  const width = 1000;
  canvas.width = width;
  canvas.height = 600;
  const ctx = canvas.getContext('2d');
  const image = new Image();
  image.crossOrigin = "anonymous";
  image.onload = ()=> {
    // draw image to cover
    const h = canvas.height;
    const w = canvas.width;
    // fill background black
    ctx.fillStyle='#000'; ctx.fillRect(0,0,w,h);
    // draw image scaled
    const ar = image.width / image.height;
    let nw = w, nh = w / ar;
    if(nh < h){ nh = h; nw = h * ar; }
    ctx.drawImage(image, (w-nw)/2, (h-nh)/2, nw, nh);
    // text
    ctx.font = "bold 48px Impact, Arial";
    ctx.textAlign = "center";
    ctx.fillStyle = "#fff";
    ctx.strokeStyle = "#000";
    ctx.lineWidth = 6;
    ctx.fillText($('topText').value.toUpperCase(), w/2, 60);
    ctx.strokeText($('topText').value.toUpperCase(), w/2, 60);
    ctx.fillText($('bottomText').value.toUpperCase(), w/2, h-30);
    ctx.strokeText($('bottomText').value.toUpperCase(), w/2, h-30);
    const url = canvas.toDataURL("image/png");
    const a = document.createElement('a'); a.href = url; a.download = "meme.png"; a.click();
  };
  image.onerror = ()=> alert('Unable to load image for download (CORS or invalid URL). Try a different URL.');
  image.src = $('memeImg').src;
}

/* confetti impl (simple) */
const confettiCanvas = $('confettiCanvas');
const cctx = confettiCanvas.getContext('2d');
function resizeCanvas(){
  confettiCanvas.width = innerWidth;
  confettiCanvas.height = innerHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

function fireConfetti(count=80){
  const pieces = [];
  for(let i=0;i<count;i++){
    pieces.push({
      x: Math.random()*confettiCanvas.width,
      y: -20 - Math.random()*confettiCanvas.height*0.3,
      r: 6 + Math.random()*8,
      d: 2+Math.random()*4,
      color: `hsl(${Math.floor(Math.random()*360)},80%,60%)`,
      tilt: Math.random()*10,
      tiltSpeed: 0.02 + Math.random()*0.05
    });
  }
  let t=0;
  function frame(){
    t+=1;
    cctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
    for(const p of pieces){
      p.y += 2 + Math.sin(t*p.d*0.01);
      p.x += Math.sin(t*p.d*0.01)*0.6;
      p.tilt += p.tiltSpeed;
      cctx.save();
      cctx.translate(p.x,p.y);
      cctx.rotate(p.tilt);
      cctx.fillStyle = p.color;
      cctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*0.6);
      cctx.restore();
    }
    // remove offscreen
    if(pieces.some(px=>px.y < confettiCanvas.height + 50)){
      requestAnimationFrame(frame);
    } else {
      cctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
    }
  }
  frame();
}

/* shake screen */
$('shakeBtn').addEventListener('click', ()=> {
  document.body.style.transition = 'transform 60ms';
  let ct = 0;
  const iv = setInterval(()=> {
    ct++;
    document.body.style.transform = `translate(${(Math.random()-0.5)*16}px, ${(Math.random()-0.5)*12}px) rotate(${(Math.random()-0.5)*2}deg)`;
    if(ct>20){ clearInterval(iv); document.body.style.transform=''; document.body.style.transition=''; }
  }, 60);
});

/* typing prank: auto-type into focused input (harmless) */
let typerOn=false;
$('typeBtn').addEventListener('click', ()=> {
  typerOn = !typerOn;
  $('typeBtn').textContent = typerOn ? 'Typing On (click an input)' : 'Typing Prank';
  if(typerOn){
    window.addEventListener('focusin', autoTypeHandler);
  } else {
    window.removeEventListener('focusin', autoTypeHandler);
  }
});

function autoTypeHandler(e){
  const targ = e.target;
  if(targ.tagName==='INPUT' || targ.tagName==='TEXTAREA'){
    const text = "you've been trolled âœ¨";
    let i=0;
    const iv = setInterval(()=> {
      if(i>=text.length){ clearInterval(iv); return; }
      targ.value = targ.value + text[i++];
    }, 120);
  }
}

/* copy link & hint */
$('copyLink').addEventListener('click', async ()=> {
  try{
    await navigator.clipboard.writeText(location.href);
    showTinyModal("Copied!", "Share it wisely.");
  }catch(e){
    alert('Unable to copy â€” permission denied.');
  }
});
$('hintBtn').addEventListener('click', ()=> {
  showTinyModal("Hint", "Open your console (F12) for a friendly message.");
});

/* console message */
console.log('%cHey friend â€” this page is a prank. Keep it playful!','background:#111;color:#fff;padding:8px;border-radius:6px;font-size:14px');

/* small modal helpers */
let modalRoot = $('modalRoot');
function showModal(title, htmlBody, actions=[]){
  modalRoot.innerHTML = '';
  const b = document.createElement('div');
  b.className='modal-back';
  b.innerHTML = `<div class="modal"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px"><div><strong>${title}</strong></div><div><button class="close" id="modalClose">âœ•</button></div></div><div id="modalBody">${htmlBody}</div><div id="modalActions" style="margin-top:12px;display:flex;gap:8px;justify-content:flex-end"></div></div>`;
  modalRoot.appendChild(b);
  modalRoot.style.display = 'block';
  const ma = b.querySelector('#modalActions');
  actions.forEach(a=>{
    const btn = document.createElement('button');
    btn.textContent = a.text;
    btn.className = a.cls || 'btn';
    btn.addEventListener('click', ()=> a.cb && a.cb());
    ma.appendChild(btn);
  });
  b.querySelector('#modalClose').addEventListener('click', closeModal);
}
function closeModal(){ modalRoot.style.display='none'; modalRoot.innerHTML=''; }
function showTinyModal(title, body){
  return new Promise(res=>{
    showModal(title, `<p>${body}</p>`, [{text:'OK', cls:'btn', cb:()=>{ closeModal(); res(); }}]);
  });
}

/* small sound / beep melody without external files */
function playBeepMelody(){
  try{
    const ctx = new(window.AudioContext || window.webkitAudioContext)();
    const notes = [523.25,659.25,783.99,987.77]; // C5,E5,G5,B5
    let t = ctx.currentTime;
    notes.forEach((n,i)=>{
      const o = ctx.createOscillator(); const g = ctx.createGain();
      o.type='sine'; o.frequency.value = n;
      g.gain.value = 0.03;
      o.connect(g); g.connect(ctx.destination);
      o.start(t + i*0.12); o.stop(t + i*0.12 + 0.1);
    });
  }catch(e){ /* audio blocked or unsupported */ }
}
function playErrorTone(){
  try{
    const ctx = new(window.AudioContext || window.webkitAudioContext)();
    const o = ctx.createOscillator(); const g = ctx.createGain();
    o.type='sawtooth'; o.frequency.value = 120;
    g.gain.value = 0.06;
    o.connect(g); g.connect(ctx.destination);
    o.start();
    setTimeout(()=>{ o.frequency.value = 60; g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.4); }, 150);
    setTimeout(()=> o.stop(), 600);
  }catch(e){}
}

/* small rick hint in console (for friends who open devtools) */
console.log('%cPS: if you clicked "Play Totally Sincere Song", you might have been rickrolled. ðŸ™‚','color:#ff8fb1;font-weight:700');

/* small dancing animation tweak */
setInterval(()=> {
  const spans = document.querySelectorAll('#dancingText span');
  spans.forEach((s,i)=> s.style.transform = `translateY(${Math.sin((Date.now()/180)+i)*8}px) rotate(${Math.sin((Date.now()/300)+i)*8}deg)`);
}, 80);

/* optional fun: keyboard shortcut (T) toggles confetti */
window.addEventListener('keydown',(e)=> {
  if(e.key.toLowerCase()==='t'){
    fireConfetti(80);
  }
});

/* small accessibility: allow modal close with ESC */
window.addEventListener('keydown', (e)=> {
  if(e.key==='Escape') closeModal();
});
</script>
</body>
</html>
